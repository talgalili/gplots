<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Enhanced Bar Plots — barplot2 • gplots</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Enhanced Bar Plots — barplot2"><meta property="og:description" content="An enhancement of the standard barplot() function. Creates a bar plot with
vertical or horizontal bars. Can plot confidence intervals for each bar, a
lined grid behind the bars, change plot area color and logarithmic axes may
be used."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gplots</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/venn.html">Venn Diagrams with `gplots`</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/talgalili/gplots/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Enhanced Bar Plots</h1>
    <small class="dont-index">Source: <a href="https://github.com/talgalili/gplots/blob/master/R/barplot2.R" class="external-link"><code>R/barplot2.R</code></a></small>
    <div class="hidden name"><code>barplot2.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>An enhancement of the standard barplot() function. Creates a bar plot with
vertical or horizontal bars. Can plot confidence intervals for each bar, a
lined grid behind the bars, change plot area color and logarithmic axes may
be used.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">barplot2</span><span class="op">(</span><span class="va">height</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-height">height<a class="anchor" aria-label="anchor" href="#arg-height"></a></dt>
<dd><p>either a vector or matrix of values describing the bars which
make up the plot.  If <code>height</code> is a vector, the plot consists of a
sequence of rectangular bars with heights given by the values in the
vector.  If <code>height</code> is a matrix and <code>beside</code> is <code>FALSE</code>
then each bar of the plot corresponds to a column of <code>height</code>, with
the values in the column giving the heights of stacked “sub-bars” making
up the bar.  If <code>height</code> is a matrix and <code>beside</code> is <code>TRUE</code>,
then the values in each column are juxtaposed rather than stacked.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>further graphical parameters (<code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code>) are passed to
<code><a href="https://rdrr.io/r/graphics/plot.window.html" class="external-link">plot.window()</a></code>, <code><a href="https://rdrr.io/r/graphics/title.html" class="external-link">title()</a></code> and <code><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a></code>.</p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p>optional vector of bar widths. Re-cycled to length the number
of bars drawn.  Specifying a single value will no visible effect unless
<code>xlim</code> is specified.</p></dd>


<dt id="arg-space">space<a class="anchor" aria-label="anchor" href="#arg-space"></a></dt>
<dd><p>the amount of space (as a fraction of the average bar width)
left before each bar.  May be given as a single number or one number per
bar.  If <code>height</code> is a matrix and <code>beside</code> is <code>TRUE</code>,
<code>space</code> may be specified by two numbers, where the first is the space
between bars in the same group, and the second the space between the
groups.  If not given explicitly, it defaults to <code>c(0,1)</code> if
<code>height</code> is a matrix and <code>beside</code> is <code>TRUE</code>, and to 0.2
otherwise.</p></dd>


<dt id="arg-names-arg">names.arg<a class="anchor" aria-label="anchor" href="#arg-names-arg"></a></dt>
<dd><p>a vector of names to be plotted below each bar or group of
bars.  If this argument is omitted, then the names are taken from the
<code>names</code> attribute of <code>height</code> if this is a vector, or the column
names if it is a matrix.</p></dd>


<dt id="arg-legend-text">legend.text<a class="anchor" aria-label="anchor" href="#arg-legend-text"></a></dt>
<dd><p>a vector of text used to construct a legend for the
plot, or a logical indicating whether a legend should be included.  This is
only useful when <code>height</code> is a matrix.  In that case given legend
labels should correspond to the rows of <code>height</code>; if
<code>legend.text</code> is true, the row names of <code>height</code> will be used as
labels if they are non-null.</p></dd>


<dt id="arg-beside">beside<a class="anchor" aria-label="anchor" href="#arg-beside"></a></dt>
<dd><p>a logical value.  If <code>FALSE</code>, the columns of
<code>height</code> are portrayed as stacked bars, and if <code>TRUE</code> the columns
are portrayed as juxtaposed bars.</p></dd>


<dt id="arg-horiz">horiz<a class="anchor" aria-label="anchor" href="#arg-horiz"></a></dt>
<dd><p>a logical value.  If <code>FALSE</code>, the bars are drawn
vertically with the first bar to the left.  If <code>TRUE</code>, the bars are
drawn horizontally with the first at the bottom.</p></dd>


<dt id="arg-density">density<a class="anchor" aria-label="anchor" href="#arg-density"></a></dt>
<dd><p>a vector giving the the density of shading lines, in lines
per inch, for the bars or bar components.  The default value of <code>NULL</code>
means that no shading lines are drawn. Non-positive values of
<code>density</code> also inhibit the drawing of shading lines.</p></dd>


<dt id="arg-angle">angle<a class="anchor" aria-label="anchor" href="#arg-angle"></a></dt>
<dd><p>the slope of shading lines, given as an angle in degrees
(counter-clockwise), for the bars or bar components.</p></dd>


<dt id="arg-col">col<a class="anchor" aria-label="anchor" href="#arg-col"></a></dt>
<dd><p>a vector of colors for the bars or bar components.  By default,
grey is used if <code>height</code> is a vector, and
<code>heat.colors(nrow(height))</code> if <code>height</code> is a matrix.</p></dd>


<dt id="arg-prcol">prcol<a class="anchor" aria-label="anchor" href="#arg-prcol"></a></dt>
<dd><p>the color to be used for the plot region.</p></dd>


<dt id="arg-border">border<a class="anchor" aria-label="anchor" href="#arg-border"></a></dt>
<dd><p>the color to be used for the border of the bars.</p></dd>


<dt id="arg-main-sub">main, sub<a class="anchor" aria-label="anchor" href="#arg-main-sub"></a></dt>
<dd><p>overall and sub titles for the plot.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>a label for the x axis.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>a label for the y axis.</p></dd>


<dt id="arg-xlim">xlim<a class="anchor" aria-label="anchor" href="#arg-xlim"></a></dt>
<dd><p>limits for the x axis.</p></dd>


<dt id="arg-ylim">ylim<a class="anchor" aria-label="anchor" href="#arg-ylim"></a></dt>
<dd><p>limits for the y axis.</p></dd>


<dt id="arg-xpd">xpd<a class="anchor" aria-label="anchor" href="#arg-xpd"></a></dt>
<dd><p>logical. Should bars be allowed to go outside region?</p></dd>


<dt id="arg-log">log<a class="anchor" aria-label="anchor" href="#arg-log"></a></dt>
<dd><p>a character string which contains `"x"' if the x axis is to be
logarithmic, `"y"' if the y axis is to be logarithmic and `"xy"' or `"yx"'
if both axes are to be logarithmic.</p></dd>


<dt id="arg-axes">axes<a class="anchor" aria-label="anchor" href="#arg-axes"></a></dt>
<dd><p>logical.  If <code>TRUE</code>, a vertical (or horizontal, if
<code>horiz</code> is true) axis is drawn.</p></dd>


<dt id="arg-axisnames">axisnames<a class="anchor" aria-label="anchor" href="#arg-axisnames"></a></dt>
<dd><p>logical.  If <code>TRUE</code>, and if there are
<code>names.arg</code> (see above), the other axis is drawn (with <code>lty = 0</code>)
and labeled.</p></dd>


<dt id="arg-cex-axis">cex.axis<a class="anchor" aria-label="anchor" href="#arg-cex-axis"></a></dt>
<dd><p>expansion factor for numeric axis labels.</p></dd>


<dt id="arg-cex-names">cex.names<a class="anchor" aria-label="anchor" href="#arg-cex-names"></a></dt>
<dd><p>expansion factor for names.</p></dd>


<dt id="arg-inside">inside<a class="anchor" aria-label="anchor" href="#arg-inside"></a></dt>
<dd><p>logical.  If <code>TRUE</code>, the lines which divide adjacent
(non-stacked!) bars will be drawn.  Only applies when <code>space = 0</code>
(which it partly is when <code>beside = TRUE</code>).</p></dd>


<dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p>logical.  If <code>FALSE</code>, nothing is plotted.</p></dd>


<dt id="arg-axis-lty">axis.lty<a class="anchor" aria-label="anchor" href="#arg-axis-lty"></a></dt>
<dd><p>the graphics parameter <code>lty</code> applied to the axis and
tick marks of the categorical (default horzontal) axis.  Note that by
default the axis is suppressed.</p></dd>


<dt id="arg-offset">offset<a class="anchor" aria-label="anchor" href="#arg-offset"></a></dt>
<dd><p>a vector indicating how much the bars should be shifted
relative to the x axis.</p></dd>


<dt id="arg-plot-ci">plot.ci<a class="anchor" aria-label="anchor" href="#arg-plot-ci"></a></dt>
<dd><p>logical. If <code>TRUE</code>, confidence intervals are plotted
over the bars. Note that if a stacked bar plot is generated, confidence
intervals will not be plotted even if <code>plot.ci = TRUE</code></p></dd>


<dt id="arg-ci-l-ci-u">ci.l, ci.u<a class="anchor" aria-label="anchor" href="#arg-ci-l-ci-u"></a></dt>
<dd><p>The confidence intervals (ci.l = lower bound, ci.u = upper
bound) to be plotted if <code>plot.ci</code> = <code>TRUE</code>. Values must have the
same dim structure as <code>height</code>.</p></dd>


<dt id="arg-ci-color">ci.color<a class="anchor" aria-label="anchor" href="#arg-ci-color"></a></dt>
<dd><p>the color for the confidence interval line segments</p></dd>


<dt id="arg-ci-lty">ci.lty<a class="anchor" aria-label="anchor" href="#arg-ci-lty"></a></dt>
<dd><p>the line type for the confidence interval line segments</p></dd>


<dt id="arg-ci-lwd">ci.lwd<a class="anchor" aria-label="anchor" href="#arg-ci-lwd"></a></dt>
<dd><p>the line width for the confidence interval line segments</p></dd>


<dt id="arg-ci-width">ci.width<a class="anchor" aria-label="anchor" href="#arg-ci-width"></a></dt>
<dd><p>length of lines used for the "t" at the end of confidence
interval line segments, as a multple of <code>width</code>.  Defaults to 0.5.</p></dd>


<dt id="arg-plot-grid">plot.grid<a class="anchor" aria-label="anchor" href="#arg-plot-grid"></a></dt>
<dd><p>if <code>TRUE</code> a lined grid will be plotted behind the
bars</p></dd>


<dt id="arg-grid-inc">grid.inc<a class="anchor" aria-label="anchor" href="#arg-grid-inc"></a></dt>
<dd><p>the number of grid increments to be plotted</p></dd>


<dt id="arg-grid-lty">grid.lty<a class="anchor" aria-label="anchor" href="#arg-grid-lty"></a></dt>
<dd><p>the line type for the grid</p></dd>


<dt id="arg-grid-lwd">grid.lwd<a class="anchor" aria-label="anchor" href="#arg-grid-lwd"></a></dt>
<dd><p>the line width for the grid</p></dd>


<dt id="arg-grid-col">grid.col<a class="anchor" aria-label="anchor" href="#arg-grid-col"></a></dt>
<dd><p>the line color for the grid</p></dd>


<dt id="arg-add">add<a class="anchor" aria-label="anchor" href="#arg-add"></a></dt>
<dd><p>logical, if <code>TRUE</code> add barplot to current plot.</p></dd>


<dt id="arg-panel-first">panel.first<a class="anchor" aria-label="anchor" href="#arg-panel-first"></a></dt>
<dd><p>An expression to be evaluated after the plot region
coordinates have been set up, but prior to the drawing of the bars and
other plot region contents. This can be useful to add additional plot
region content behind the bars. This will also work if <code>add</code> =
<code>TRUE</code></p></dd>


<dt id="arg-panel-last">panel.last<a class="anchor" aria-label="anchor" href="#arg-panel-last"></a></dt>
<dd><p>An expression to be evaluated after the bars have been
drawn, but prior to the addition of confidence intervals, a legend and the
axis annotation</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A numeric vector (or matrix, when <code>beside = TRUE</code>), say
<code>mp</code>, giving the coordinates of <em>all</em> the bar midpoints drawn,
useful for adding to the graph.</p>
<p>If <code>beside</code> is true, use <code>colMeans(mp)</code> for the midpoints of each
<em>group</em> of bars, see example.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This is a generic function, it currently only has a default method.  A
formula interface may be added eventually.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Prior to <span style="R">R</span> 1.6.0, <code>barplot</code> behaved as if <code>axis.lty = 1</code>,
unintentionally.  0 (zero) and NA values in <code>height</code> will not be
plotted if using logarithmic scales.  If there are NA values in
<code>height</code> and <code>beside = FALSE</code>, values after the NA will not be
plotted in stacked bars.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a>(..., type = "h")</code>, <code><a href="https://rdrr.io/r/graphics/dotchart.html" class="external-link">dotchart</a></code>,
<code><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></code>.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Original barplot() by R-Core. Enhancements by Marc Schwartz.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>

    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gregory R. Warnes, Ben Bolker, Lodewijk Bonebakker, Robert Gentleman, Wolfgang Huber, Andy Liaw, Thomas Lumley, Martin Maechler, Arni Magnusson, Steffen Moeller, Marc Schwartz, Bill Venables, Tal Galili.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

